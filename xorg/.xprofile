# vi: ft=sh

# this file is sourced from .xinitrc
# it is used to run programs at the start of the X session

# NOTE bspwm autostart defined in ~/.config/bspwm/bspwmrc
# the idea is to start programs after the window manager

# environment agnostic
# --------------------

# unclock keyring for terminal sessions
# see https://wiki.archlinux.org/index.php/GNOME/Keyring#With_a_display_manager
# also check relevant files in ~/.config/autostart
if [ -n "$DESKTOP_SESSION" ]; then
    eval $(gnome-keyring-daemon --start)
    export SSH_AUTH_SOCK
fi

# start URxvt server
urxvtd --quiet --opendisplay --fork &

# load Xresources
xrdb -merge ~/.Xresources

# specify keyboard layouts and compose key
setxkbmap -option compose:menu
setxkbmap -layout 'us,gr' -option 'grp:alt_shift_toggle'

# music server
mpd

# use local config for setting screen temperature
redshift -c ~/.config/redshift.conf &

# environment specific
# --------------------

# # run if on any of the following
# if [[ "$XDG_CURRENT_DESKTOP" = "GNOME" ]]; then
# fi

# if [[ "$XDG_CURRENT_DESKTOP" = "KDE" ]]; then
# fi

# if [[ "$XDG_CURRENT_DESKTOP" = "MATE" ]]; then
# fi
